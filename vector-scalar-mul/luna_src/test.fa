import c_initVector(name, int, int, int) as initVector;
import c_mulVectors(value, value, name) as mulVectors;
import c_printResult(value, int) as printResult;

#define N 4
#define SIZE 100

sub reduce (name arr, int size, name result) {
    df tmp;
    if (size > 1) {
        for i=0..size/2 {
            sum(arr[i*2], arr[i * 2 + 1], tmp[i]);
        }
    }
    reduce(arr, size/2, result);
}

sub main() {
    df vector1, vector2, result;
    for i=0..$N-1 {
        cf initVector1[i]: initVector(vector1[i], $SIZE, i, 1);
        cf initVector2[i]: initVector(vector2[i], $SIZE, i, 2);
        cf scalarVectors[i]: mulVectors(vector1[i], vector2[i], result[i]);
    }
    reduce
    cf printScalar: printResult(result[0]);
}